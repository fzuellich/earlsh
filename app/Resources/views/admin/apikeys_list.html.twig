{% extends 'admin/base.admin.html.twig' %}

{% block content %}
	<h2>Apikeys</h2>
	<p><a href="{{url('admin_generate_apikeys')}}" class="btn btn-default"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> Generate new Apikey</a></p>
	<table class="table">
		<thead>
			<tr>
				<th><span class="glyphicon glyphicon-tags" aria-hidden="true"></span> Key</th>
				<th><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> Expiry date</th>
				<th><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Operation</th>
			</tr>
		</thead>
		<tbody>
		{% for apikey in apikeys %}
		<tr>
			<td><a href="{{path('apikey_details', {apikey: apikey.apikey})}}">{{apikey.apikey}}</a></td>
			<td>{{apikey.expires|date('d.m.Y')}}</td>
			<td><a href="{{url('revoke_apikey', {apikey: apikey.apikey})}}">Revoke</a></td>
		{% endfor %}
		</tbody>
	</table>
{% endblock %}